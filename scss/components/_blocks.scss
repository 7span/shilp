//--------------------------------------------------
// CONFIGURATION
//--------------------------------------------------

//---------- Config: Via SCSS Maps
$shilp-blocks-defaults: () !default;
$shilp-blocks-defaults: map-merge(
  (
    "gaps": $shilp-spaces
  ),
  $shilp-blocks-defaults
);

//---------- Config: Via CSS Vars
$shilp-blocks-vars: () !default;
$shilp-blocks-vars: map-merge(
  (
    "gap": 0px
  ),
  $shilp-blocks-vars
);

//---------- Local Variables
$blocks-gaps: map-get($shilp-blocks-defaults, "gaps");

//--------------------------------------------------
// MIXINS
//--------------------------------------------------

// RESPONSIVE BLOCKS GAP
// Generates the responsive classes based on breakpoint. with all the gap values.
@mixin blocks-gap($breakpoint) {
  @each $key, $value in $blocks-gaps {
    $className: breakpoint-class($breakpoint, blocks--#{$key});
    .#{$className} {
      --blocks--gap: #{$value};
    }
  }
}

//--------------------------------------------------
// CSS BLOCK & ELEMENTS
//--------------------------------------------------

.blocks {
  @include component-vars("blocks", $shilp-blocks-vars);
  display: flex;
  flex-wrap: wrap;
  margin: calc(-1 * var(--blocks--gap));
  > .block {
    padding: var(--blocks--gap);
  }
}
@include blocks-gap("phone");

//--------------------------------------------------
// MEDIA QUERY
//--------------------------------------------------
@each $breakpoint, $value in $shilp-breakpoints {
  @media only screen and (min-width: $value) {
    @include blocks-gap($breakpoint);
  }
}
