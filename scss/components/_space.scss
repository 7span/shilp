$space-directions: (
  t: (
    "top"
  ),
  b: (
    "bottom"
  ),
  l: (
    "left"
  ),
  r: (
    "right"
  ),
  x: (
    "left",
    "right"
  ),
  y: (
    "top",
    "bottom"
  )
);

$space-props: (
  m: "margin",
  p: "padding"
);

@mixin space($breakpoint) {
  @each $prop-initial, $prop in $space-props {
    //All Directions
    @include loop-space using ($space, $value) {
      $className: breakpoint-class($breakpoint, #{$prop-initial}--#{$space});
      .#{$className} {
        #{$prop}: var(--space--#{$space});
      }
    }

    //Left,Right,Top,Bottom,X,Y
    @each $direction-initial, $direction in $space-directions {
      @include loop-space using ($space, $value) {
        $className: breakpoint-class(
          $breakpoint,
          #{$prop-initial}#{$direction-initial}--#{$space}
        );
        .#{$className} {
          @each $side, $value in $direction {
            #{$prop}-#{$side}: var(--space--#{$space});
          }
        }
      }
    }
  }
}

@include space("desktop");

//Media Query
@include loop-breakpoint() using ($breakpoint) {
  @include space($breakpoint);
}
