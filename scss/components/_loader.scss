$shilp-loader-defaults: () !default;
$shilp-loader-defaults: map-merge(
  (
    "size": md,
    "width": 3px,
    "default-color": "dark",
    "dark-base-color": rgba(0, 0, 0, 0.2),
    "dark-color": rgba(0, 0, 0, 0.5),
    "light-base-color": rgba(255, 255, 255, 0.4),
    "light-color": rgba(255, 255, 255, 0.8)
  ),
  $shilp-loader-defaults
);

$loader-size: map-get($shilp-loader-defaults, "size");
$loader-width: map-get($shilp-loader-defaults, "width");

@mixin loader--size($size) {
  &:after {
    width: map-get($shilp-input-icon-sizes, $size);
    height: map-get($shilp-input-icon-sizes, $size);
  }
}

@mixin loader--color($color) {
  $base-color: map-get($shilp-loader-defaults, #{$color}-base-color);
  $color: map-get($shilp-loader-defaults, #{$color}-color);
  border-color: $color $base-color $base-color $base-color;
}

.loader {
  position: relative;
  pointer-events: none;
  cursor: wait;
  &:after {
    content: "";
    border-radius: 50%;
    border-style: solid;
    display: block;
    z-index: 3;
    animation-name: loading;
    animation-duration: 1s;
    animation-iteration-count: infinite;
    margin: auto;
    border-width: $loader-width;
    @include loader--color(dark);
    @include position(absolute);
  }
  @include loader--size($loader-size);
}

.loader--light {
  &:after {
    @include loader--color(light);
  }
}
.loader--dark {
  &:after {
    @include loader--color(dark);
  }
}

@each $size, $value in $shilp-input-sizes {
  .loader--#{$size} {
    @include loader--size($size);
  }
}

@keyframes loading {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
