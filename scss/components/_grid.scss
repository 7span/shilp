//--------------------------------------------------
// CONFIGURATION
//--------------------------------------------------

//---------- Config: Via SCSS Maps
$shilp-grid-defaults: () !default;
$shilp-grid-defaults: map-merge(
  (
    "gaps": $shilp-spaces,
    "sizes": (
      xxs: 80px,
      xs: 120px,
      sm: 160px,
      md: 200px,
      lg: 240px,
      xl: 280px
    )
  ),
  $shilp-grid-defaults
);

//---------- Config: Via CSS Vars
$shilp-grid-vars: () !default;
$shilp-grid-vars: map-merge(
  (
    "gap": 0px,
    "size": map-deep-get($shilp-grid-defaults, sizes, md)
  ),
  $shilp-grid-vars
);

//---------- Local Variables
$grid-gaps: map-get($shilp-grid-defaults, "gaps");
$grid-sizes: map-get($shilp-grid-defaults, "sizes");

//--------------------------------------------------
// MIXINS
//--------------------------------------------------

// RESPONSIVE GRID GAP
// Generates the responsive classes based on breakpoint. with all the gap values.
@mixin shilp-grid-gap($breakpoint) {
  @each $key, $value in $grid-gaps {
    $className: breakpoint-class($breakpoint, grid--#{$key});
    .#{$className} {
      --grid--gap: #{$value};
    }
  }
}

// RESPONSIVE GRID SIZE
// Generates the responsive classes based on breakpoint. with all the gap values.
@mixin shilp-grid-size($breakpoint) {
  @each $key, $value in $grid-sizes {
    $className: breakpoint-class($breakpoint, grid--#{$key});
    .#{$className} {
      --grid--size: #{$value};
    }
  }
}

//--------------------------------------------------
// BLOCK & ELEMENTS
//--------------------------------------------------
.grid {
  @include component-vars("grid", $shilp-grid-vars);
  display: grid;
  gap: var(--grid--gap);
  grid-template-columns: repeat(auto-fill, minmax(var(--grid--size), 1fr));
}
.grid--fit {
  grid-template-columns: repeat(auto-fill, var(--grid--size));
}

@include shilp-grid-gap("phone");
@include shilp-grid-size("phone");
//--------------------------------------------------
// MODIFIERS
//--------------------------------------------------
//--------------------------------------------------
// MEDIA QUERY
//--------------------------------------------------
@each $breakpoint, $value in $shilp-breakpoints {
  @media only screen and (min-width: $value) {
    @include shilp-grid-gap($breakpoint);
    @include shilp-grid-size($breakpoint);
  }
}
